<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>UMCloud Kubernetes</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="github-pandoc.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">UMCloud Kubernetes</h1>
</div>
<h2 id="usando-umcloud-kubernetes-desde-tu-laptop">Usando UMCloud Kubernetes desde tu laptop</h2>
<ol style="list-style-type: decimal">
<li>Instalar kubectl desde <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" class="uri">https://kubernetes.io/docs/tasks/tools/install-kubectl/</a></li>
<li>Preparar la siguiente data</li>
</ol>
<ul>
<li><em>GH_USER</em> : Tu usuario de github</li>
<li><em>GH_TOKEN</em> : Token generado siguiendo <a href="https://docs.google.com/presentation/d/1qWkmqWtxkbcneU799xzcYnb-AmmnWPUVq2ZjQBJeInM/edit#slide=id.g3b77f3a8c0_0_107">la diapo</a></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>En un shell, ejecutar</li>
</ol>
<pre><code># Setear manualmente las siguientes variables:
GH_USER=&quot;TU_USUARIO_DE_GITHUB&quot;
GH_TOKEN=&quot;EL_TOKEN&quot;

# Ejecutar
echo ${GH_USER:?} ${GH_TOKEN:?}
wget https://www.kube.um.edu.ar/kube-um-ca.crt
kubectl config set-cluster --certificate-authority=$PWD/kube-um-ca.crt \
  --server https://api.kube.um.edu.ar:6443 kube-um
kubectl config set-context --cluster=kube-um --user=um-${GH_USER} \
  --namespace=${GH_USER} kube-um-${GH_USER}
kubectl config set-credentials um-${GH_USER} --token ${GH_TOKEN}
kubectl config use-context kube-um-${GH_USER}
kubectl config view

# Probar
kubectl get pod
kubectl get pod --all-namespaces</code></pre>
</body>
</html>
